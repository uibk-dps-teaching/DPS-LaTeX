\documentclass[parskip=half]{scrbook}

\title{Towards a Complete, Modern Thesis Template}
\subtitle{Fighting an Uphill Battle Against \LaTeX}
\author{Siegward of the Knights of Catarina}
\date{\today}

\newcommand{\thesistype}{Master's Thesis}
\newcommand{\supervisor}{Siegmeyer of Catarina}

\usepackage[utf8]{inputenc}

% Math
\usepackage{amsmath}
\usepackage{amsthm}
\newtheorem{definition}{Definition}
\newtheorem{theorem}{Theorem}
\newtheorem{example}{Example}
\usepackage{amssymb}
\let\emptyset\varnothing

% SI Units
\usepackage[binary-units]{siunitx}
\sisetup{detect-all}

% References
\usepackage[numbers]{natbib}
\bibliographystyle{plainnat}

% Color
\usepackage{xcolor}
\definecolor{linkcolor}{cmyk}{1.0, 0.6, 0.0, 0.56}

% Links
\usepackage{hyperref}
\hypersetup{
	colorlinks = true,
	citecolor  = linkcolor,
	linkcolor  = linkcolor,
	urlcolor   = linkcolor,
}
\urlstyle{same}
\usepackage[all]{hypcap}
\usepackage[noabbrev]{cleveref}
\crefname{lstlisting}{listing}{listings}
\Crefname{lstlisting}{Listing}{Listings}
\crefname{algocf}{algorithm}{algorithms}
\Crefname{algocf}{Algorithm}{Algorithms}

% Tables
\usepackage{booktabs}
\usepackage{tabularx}

% Graphics
\usepackage{tikz}
\usetikzlibrary{arrows.meta,calc,positioning}
\usepackage{graphicx}
\usepackage{wrapfig}

% Algorithms
\usepackage[ruled,linesnumbered]{algorithm2e}
\newcommand\commentStyle[1]{\sffamily{#1}}
\SetCommentSty{commentStyle}

% Code
\usepackage{listings}
\lstset{
	basicstyle=\ttfamily\footnotesize,
	breaklines=true,
	breakatwhitespace=false,
	showstringspaces=false,
	numbers=left,
	tabsize=4,
	numberbychapter=false,
	captionpos=b,
	frame=leftline,
	framesep=2mm,
	xleftmargin=8mm
}
\usepackage[outputdir=out]{minted}
\usemintedstyle{tango}
\setminted{
	fontsize=\footnotesize,
	tabsize=4,
	linenos,
	frame=leftline,
	framesep=2mm,
	xleftmargin=10mm
}
% Fix The 'listings' counter.
\AtBeginEnvironment{listing}{\setcounter{listing}{\value{lstlisting}}}
\AtEndEnvironment{listing}{\stepcounter{lstlisting}}
% Fix listoflistings command.
\providecommand{\listoflistings}{\lstlistoflistings}

% Glossary
\usepackage{glossaries}
\makeglossaries
\include{glossary}

% Title
\usepackage{titlepage}

% Page
\usepackage{appendix}
\usepackage[margin=2.5cm,bottom=3cm,footskip=1cm]{geometry}
% \usepackage{showframe}
\usepackage{chngcntr}
\setcounter{tocdepth}{2}
\setcounter{secnumdepth}{2}
\counterwithout{equation}{chapter}
\counterwithout{figure}{chapter}
\counterwithout{table}{chapter}

% Font
\usepackage{microtype}
\usepackage{newtxtext,newtxmath}
\usepackage[scale=0.88]{sourcecodepro}
\usepackage[T1]{fontenc}

\usepackage{scrhack}

% Custom packages

\begin{document}

\frontmatter
\maketitle
\include{00_declaration}
\tableofcontents
\listoffigures
\listoftables
\listofalgorithms
\listoflistings
\include{00_abstract}

\mainmatter
\include{01_running_text}
\include{02_other_elements}

\backmatter
\appendix
\include{99_appendix}
\printglossaries
\bibliography{references}

\end{document}
